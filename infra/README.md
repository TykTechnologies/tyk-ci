# Infrastructure

This is what the developer environments run on. State is persisted remotely in [Terraform Cloud](https://app.terraform.io/app/Tyk/workspaces/dev-euc1/settings/general "ask devops for access") and is available in the *Integration Image* github workflow. 

Outputs persisted to this state should be very carefully considered as they are almost public. We take some care to mask secrets in the workflow but that is a figleaf.

See `*.auto.tfvars` for inputs that have been used. 

This depends on EFS volumes from the `immutable` workspace on [Terraform Cloud](https://app.terraform.io/app/Tyk/workspaces/immutable/settings/general).

## Int Service

This ludicrously named component is the soft underbelly of imperative code in this fortress of declarative code. 

It is fronted by an NLB and is secured by mTLS. The certificates and keys are generated by a cfssl based image in <../ca> and are on the cfssl EFS volume. The SSL termination is done by upstream, not the NLB. The client cert and key are needed in the domu org.



